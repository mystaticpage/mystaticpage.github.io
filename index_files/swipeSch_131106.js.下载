MI.define("utils/swipeSch",function(){var n=UI.G,o=UI.GC,b=n("swipeSch"),j='<div class="swipeSch" id="swipeSch" title="搜索选中内容…"><a href="###" boss="btn_swipeSch" target="_blank" class="swipeSch_lk"><i class="ico16 ic ico_zoom"></i></a></div>',g=[/\u67E5\u770B\u539F\u56FE.*\u5B58\u5230\u624B\u673A/gm,/\u67E5\u770B\u5927\u56FE.*\u5B58\u5230\u624B\u673A/gm,/\u5168\u90E8\u8F6C\u64AD\u548C\u8BC4\u8BBA/gm,/\u6765\u81EA.*\u4E3E\u62A5/gm,/\u6765\u81EA.*\)/gm,/\+1\u559C\u6B22[0-9]*/gm,/\u5411\u5DE6\u8F6C\|\u5411\u53F3\u8F6C\u67E5\u770B\u539F\u56FE/gm,/\|\u8F6C\u64AD|\|\u8F6C|\u8F6C\u64AD/gm,/\|\u8BC4\u8BBA|\|\u8BC4|\u8BC4\u8BBA/gm,/\|\u6536\u85CF|\|\u6536|\u6536\u85CF/gm,/\|\u5220\u9664|\|\u5220|u5220\u9664/gm,/\u5206\u4EAB...\u8BE6\u60C5\u5C4F\u853D\u8BE5\u7528\u6237\u4E3E\u62A5/gm,/\r\n/gm,/\u5730\u56FE\u5C55\u793A|- \u5730\u56FE\u5C55\u793A/gm],k=MI.api.type&&4==MI.api.type?"http://1.t.qq.com/search/message.php":"http://search.t.qq.com/index.php",h="";UI.EA(document.body,"mousedown",function(a){a=UI.E(a).target;!UI.hasClass(a,"swipeSch")&&!UI.hasClass(a,"swipeSch_lk")&&!UI.hasClass(a,"ico16")&&b&&UI.hide(b)});var l=function(a,c){if(a&&c){var d=[],b=0;UI.isArray(c)?d=c:d.push(c);UI.each(d,function(d){UI.hasClass(a,d)&&(b=1)});if(b)return!0}return!1},p=function(){var a=window.getSelection?window.getSelection():window.document.selection;if(!a)return{container:null,range:null,text:null,pNode:null};try{var a=a.createRange?a.createRange():a.getRangeAt(0),b=window.getSelection?a.toString():a.text;if(!b||""==b)return!1;var d=null;a.commonAncestorContainer?d=a.commonAncestorContainer:a.parentElement&&(d=a.parentElement());return{container:d,range:a,text:b,pNode:d.parentNode}}catch(q){}};return function(a){var c;if(UI.isElement(a))c=a;else if(UI.isObject(a)&&(c=a.target,a.schHtml&&(j=a.schHtml),a.filter&&(g=UI.merge(g,a.filter)),a.searchUrl&&(k=a.searchUrl),a.css&&UI.isString(a.css)))css=a.css,UI.css(css);UI.A(c,"swipeSch")||(UI.EA(c,"mouseup",function(a){a=a||window.event;var c=UI.E(a);if(a=p()){var f=a.container,i=a.pNode||null,e=a.text,m="funBox mediaWrap tl_imgGroup pubInfo time zfNum left main LC mainInside cNote relay comt fav delBtn int_like alarm".split(" ");"talkList"==UI.A(f,"id")||"talkList"==UI.A(i,"id")||"mainWrapper"==UI.A(f,"id")||"mainWrapper"==UI.A(i,"id")||l(f,m)||l(i,m)?e="":(UI.each(g,function(a){e=e.replace(a,"")}),e=UI.trim(e));if(""!=e){if(b||(b=UI.html(j)[0],UI.A(b,"id","swipeSch"),UI.append(b,document.body)),h!=a.text)f=c.y+UI.scrollY()-30,b.style.cssText='display:"";left:'+(c.x-6)+"px;top:"+f+"px;",c=k+"?k="+encodeURIComponent(e),UI.A(o(b,"a")[0],"href",c),h=a.text}else b&&UI.hide(b)}else b&&UI.hide(b),h=""}),UI.A(c,"swipeSch",1))}});/*version:124588*//*  |xGv00|61e78249773521a91aae6454ae770b68 */